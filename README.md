# Udacity微信小程序纳米学位实战项目2————看看侃侃电影影评小程序

## 数据字典设计

### 电影表movie

| 字段        | 类型(长度)   | 中文             | 备注 |
| ----------- | ------------ | ---------------- | ---- |
| id          | int(11)      | 电影id，自增主键 |      |
| title       | varchar(255) | 电影名           |      |
| image       | varchar(255) | 电影图片url      |      |
| category    | varchar(255) | 电影分类         |      |
| description | text         | 电影简述         |      |
| create_time | datetime     | 记录创建时间     |      |




### 电影影评表movie_comment

| 字段         | 类型(长度) | 中文              | 备注 |
| ------------ | ---------- | ----------------- | ---- |
| id           | int(11) | 影评id，自增主键  |      |
| movie_id     | int(11) | 电影id            |      |
| comment_type | int(1) | 影评类型 | 0:文字；1语音 |
| rating       | decimal(3,1) | 打分，最高5分     |      |
| user      | varchar(255) | 影评人微信open_id |      |
| username | varchar(255) | 影评人昵称      |      |
| avatar | varchar(255) | 影评人头像url   |      |
| content | varchar(1024) | 影评内容  |      |
| create_time | datetime | 影评创建时间  |      |

### 影评点赞表comment_like

| 字段        | 类型(长度)   | 中文              | 备注 |
| ----------- | ------------ | ----------------- | ---- |
| id          | int(11)      | 自增主键          |      |
| comment_id  | int(11)      | 影评id            |      |
| movie_id    | int(11)      | 电影id            |      |
| open_id     | varchar(255) | 点赞人微信open_id |      |
| create_time | datetime     | 点赞时间          |      |



### 影评收藏表comment_fave

| 字段        | 类型(长度)   | 中文              | 备注 |
| ----------- | ------------ | ----------------- | ---- |
| id          | int(11)      | 自增主键          |      |
| comment_id  | int(11)      | 影评id            |      |
| movie_id    | int(11)      | 电影id            |      |
| open_id     | varchar(255) | 收藏人微信open_id |      |
| create_time | datetime     | 收藏时间          |      |



## 主要功能

- 精选推荐
  -  获取推荐影评(不会推荐自己的影评和已收藏的影评给自己)
  -  随机推荐1部较新的影评
  - 随机推荐1条点赞数多的影评
  - 随机推荐1部评分高电影的影评
  - 可下拉刷新推荐列表
- 搜电影
  - 获取电影列表
  - 搜索电影

- 电影详情
  - 获取电影详情
  - 跳转至影评列表
  - 登陆后，用户未给该电影写过影评则能添加影评
  - 登陆后，用户已给该电影写过影评则能查看自己写的影评
- 个人中心
  - 登陆后，用户可获取用户发布的影评
  - 登陆后，用户可获取用户收藏的影评
  - 点击影评卡片可跳转至影评详情页面
- 影评列表
  - 获取影评列表
  - 语音影评可点击语音条播放/停止语音
  - 点击影评可跳转至影评详情
  - 可下拉刷新影评列表
  - 登陆后，用户可以点赞/取消点赞
  - 登陆后，用户可以收藏/取消收藏
- 影评详情
  - 获取影评详情信息
  - 登陆后，用户可以点赞/取消点赞
  - 登陆后，用户可以收藏/取消收藏
  - 登陆后，用户未给该电影写过影评则能添加影评
  - 登陆后，用户已给该电影写过影评则能查看自己写的影评
- 影评编辑与预览
  - 根据影评类型进行不同的编辑
  - 语音影评时，提示用户授权录音权限
  - 播放语音
  - 可在预览和编辑模式进行切换
  - 发布影评



​	



## 界面截图

## ![snapshots](https://wmp-movie-1256882560.cos.ap-shanghai.myqcloud.com/snapshots.jpeg)

